(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{233:function(t,s,n){t.exports=n.p+"assets/img/2.808ae2f8.png"},234:function(t,s,n){t.exports=n.p+"assets/img/1.0a26f59d.png"},235:function(t,s,n){t.exports=n.p+"assets/img/3.a53a7699.png"},308:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"h5-的坑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#h5-的坑"}},[t._v("#")]),t._v(" H5 的坑")]),t._v(" "),a("ul",[a("li",[t._v("[ios] input框的placeholder在真机中并没有垂直居中，而是靠上一点（chrome模拟器没有），但是输入内容后就是垂直居中了。解决方法是为input设置height=line-height\n"),a("br")]),t._v(" "),a("li",[t._v("[ios] input框在真机中默认有2px的border边框（chrome模拟器没有）\n"),a("br")]),t._v(" "),a("li",[t._v("[ios] input框 type=number无效，依旧调起的是正常键盘，即使设置了pattern为0-9也不行。若想实现数字键盘，需要将type=tel，如果只允许输入数字，还需要在tel的基础上监听input事件，将非数字内容替换掉。\n"),a("br")]),t._v(" "),a("li",[t._v("fixed默认是相对于body定位的，比如fiexd，topleft0，元素会出现在屏幕左上角。  但是，translate会影响fiexd，比如：一个father里面的child是fixed，topleft0，然后我给father设置translateY(-50%)，（假设屏幕高1000，father高400，father垂直居中于屏幕。），最后的结果是 child出现在离屏幕上方300的位置，也就是说，原本左上角的child随着father一起移动了translateY(-50%)。 所以说，使用translate时，要保证其内部的所有元素没有用到absolute、fixed布局，否则会影响它们。\n"),a("br")]),t._v(" "),a("li",[t._v("[ios] 滚动条弹动bug："),a("br"),t._v("\n    固定在顶部"),a("br"),t._v("\n    中间内容带滚动条"),a("br"),t._v("\n    固定在底部"),a("br"),t._v("\n如果content设置了固定高度，比如100%-top-bottom，那么在ios上滚动时有可能bottom和content会粘在一起"),a("br"),t._v("\n解决方案一：中间内容不设置固定高度，或者只设置min-height，内容自适应即可"),a("br"),t._v("\n解决方案二：中间内容设置为flex：1（尚未验证）")])]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("/\\*修正\\*/  \n \n固定在顶部  \n中间内容带滚动条  \n固定在底部  \n \n \n#header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fixed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#footer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" red"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fixed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  margin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 50px 0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("  -webkit-overflow-scrolling")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("touch  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n!!content不设置高度，内容自己撑开\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])]),a("br"),t._v(" "),a("ul",[a("li",[t._v('ie下a.style=str无效，需要改为a.setAttribute("style", str)')])]),t._v(" "),a("br"),t._v(" "),a("ul",[a("li",[a("p",[t._v("虚拟dom和dom的区别：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.zhihu.com/question/31809713?sort=created",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.zhihu.com/question/31809713?sort=created"),a("OutboundLink")],1)])])]),t._v(" "),a("br"),t._v(" "),a("ul",[a("li",[t._v("弹出层出现后阻止外层滚动：")])]),t._v(" "),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("外层：")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fixed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v(" top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v(" right")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v(" bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1002"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v(" left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n  \n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("body:")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hidden'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n  \n  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("right：0；bottom：0；posioton")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fixed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n或者  \n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100%"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("；position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fixed\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("div",{staticClass:"language-css line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[t._v("  \n1.弹框出现时给滚动条元素设置overflow：hidden，关闭后再设置回visible（默认值）  \n2.出现时将长内容元素自身设置fixed，关闭后再恢复成static\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("br"),t._v(" "),a("ul",[a("li",[t._v("相机：\n在ios上直接打开相机，在安卓上可以选择图片或打开相机")])]),t._v(" "),a("p",[t._v("在ios上可以选择图片或打开相机，在安卓上没有相机选项")]),t._v(" "),a("p",[t._v("需要做平台监测")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.jb51.net/article/116694.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.jb51.net/article/116694.htm"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/q/1010000005768036",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://segmentfault.com/q/1010000005768036"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.cnblogs.com/xianxianxxx/p/7851148.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/xianxianxxx/p/7851148.html"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("在红米上，直接打开相册了"),a("br"),t._v("\n需要对红米单独监测：userAgent里有没有Redmi字段")]),t._v(" "),a("br"),t._v(" "),a("ul",[a("li",[t._v("图片压缩："),a("a",{attrs:{href:"https://www.cnblogs.com/007sx/p/7583202.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/007sx/p/7583202.html"),a("OutboundLink")],1)])]),t._v(" "),a("br"),t._v(" "),a("ul",[a("li",[a("p",[t._v("点击事件在ios和安卓上的兼容性bug："),a("a",{attrs:{href:"http://blog.csdn.net/u014168594/article/details/77586539",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://blog.csdn.net/u014168594/article/details/77586539"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("[ios] safari 100vh后出现滚动条：设置一个全屏高的容器，使用100vh的话，在safari上会出现滚动条，原因是在safari上100vh不包含浏览器下方的「工具栏」，因此最终计算时，实际高度是100vh+工具栏高度，就会出现滚动条了。解决方案是使用100%，但需要一层一层设置100%直到本标签。")])]),t._v(" "),a("li",[a("p",[t._v("[ios] safari fixed被遮盖问题：\n父级元素100%屏幕高度，padding-top 1.5rem，子级元素fixed，通过top、left、right、bottom为0实现全屏高。在safari浏览器上，这个fixed元素上方的1.5rem高度区域会被遮盖掉，其他区域正常显示，如下图：")])])]),t._v(" "),a("p",[a("img",{attrs:{src:n(233),alt:""}})]),t._v(" "),a("p",[t._v("然而审查一下元素，发现高度就是全屏高，说明没有被挤下去，而是因为什么原因，这个1.5rem区域被遮盖了，查来查去，只有父级的padding的原因了。")]),t._v(" "),a("p",[a("img",{attrs:{src:n(234),alt:""}})]),t._v(" "),a("p",[t._v("解决方案，给父级元素设置transform:translateY(0)，因为父级的transform属性会是fixed元素定位失效，由窗口定位为父级自身，相当于absolute了。")]),t._v(" "),a("p",[a("img",{attrs:{src:n(235),alt:""}})]),t._v(" "),a("p",[t._v("这个方案也不是很好，弹出动画时还是被遮盖了，动画结束了才出来，有一种变高的动画错觉。")])])}),[],!1,null,null,null);s.default=e.exports}}]);