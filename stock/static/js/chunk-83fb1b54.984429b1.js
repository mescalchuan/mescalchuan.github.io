(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83fb1b54"],{2934:function(t,e,a){"use strict";a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return c}));var n=a("b775");function r(){return Object(n["a"])({url:"/v1/village/list",method:"post"})}function o(){return Object(n["a"])({url:"/v1/village/loadAll",method:"post"})}function i(){return Object(n["a"])({url:"/v1/position/query",method:"post"})}function c(t){return Object(n["a"])({url:"/v1/villageGroup/list",method:"post",data:t})}},"2c50":function(t,e,a){},"375c":function(t,e,a){},8194:function(t,e,a){"use strict";a.d(e,"k",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"j",(function(){return l})),a.d(e,"m",(function(){return s})),a.d(e,"b",(function(){return d})),a.d(e,"a",(function(){return m})),a.d(e,"f",(function(){return f})),a.d(e,"l",(function(){return p})),a.d(e,"i",(function(){return h})),a.d(e,"g",(function(){return b}));var n=a("b775");function r(t){return Object(n["a"])({url:"/v1/family/search",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/v1/family/save",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/v1/member/detail",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/v1/family/members",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/v1/member/detail",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/v1/relationship/query",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/v1/member/update",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/v1/member/cancel",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/v1/member/save",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/v1/birthDate/query",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/v1/members/search",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/v1/member/download",method:"get",params:t,responseType:"blob"})}function b(t){return Object(n["a"])({url:"/v1/updateHistory/query",method:"post",data:t})}},"9ca4":function(t,e,a){"use strict";var n=a("2c50"),r=a.n(n);r.a},ec21:function(t,e,a){"use strict";var n=a("375c"),r=a.n(n);r.a},f2f4:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-page"},[a("area-selector",{on:{areaChange:t.areaChange}}),a("div",{staticClass:"content"},[a("div",{staticClass:"option-box"},[a("div",{staticClass:"search-box"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"可按户号、户主姓名、身份证搜索",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.searchMemberList}},[t._v("搜索"),a("i",{staticClass:"el-icon-search el-icon--right"})])],1),a("div",[t.$hasAuth(7)?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(e){return t.handleEdit("new")}}},[t._v("新增户主")]):t._e(),t.$hasAuth(45)?a("el-button",{attrs:{icon:"el-icon-download",type:"primary"},on:{click:t.download}},[t._v("下载信息")]):t._e()],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-class-name":"table-header-color",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"familyNo",label:"户号",width:"100"}}),a("el-table-column",{attrs:{prop:"adminMemberName",label:"户主"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.sex?a("p",[t._v("保密")]):1==e.row.sex?a("p",[t._v("男")]):2==e.row.sex?a("p",[t._v("女")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"birthDate",label:"出生日期"}}),a("el-table-column",{attrs:{prop:"currentAddress",label:"现居住地"}}),a("el-table-column",{attrs:{prop:"familyMemberCount",label:"家庭人数"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$hasAuth(9)?a("el-button",{attrs:{icon:"el-icon-s-tools",type:"success",size:"small"},on:{click:function(a){return t.handleEdit("edit",e.row)}}},[t._v("变更")]):t._e(),t.$hasAuth(10)?a("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"small"},on:{click:function(a){return t.goDetail(e.row)}}},[t._v("详情")]):t._e()]}}])})],1),a("pagination",{attrs:{total:t.pageInfo.total,"current-page":t.pageInfo.pageNum},on:{"on-change":function(e){return t.handlePageChange(e)}}})],1)],1)},r=[],o=(a("99af"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("7715")),i=a("1799"),c=a("8194"),u={components:{AreaSelector:o["a"],Pagination:i["a"]},data:function(){return{tableData:[],searchKey:"",form:{},pageInfo:{pageNum:1,pageSize:10,total:0,current:1},formLabelWidth:"100px",rules:{code:[{required:!0,message:"请输入组织代码",trigger:"blur"}],name:[{required:!0,message:"请输入组织名称",trigger:"blur"}],represent:[{required:!0,message:"请输入法人代表",trigger:"blur"}],createdDate:[{type:"date",message:"请选择成立日期",trigger:"change"}],desc:[{message:"请填写组织介绍",trigger:"blur"}]},groupOptions:[],areaList:[]}},created:function(){},methods:{handleEdit:function(t,e){e?this.$router.push("/member/edit?isEdit=".concat(t,"&id=").concat(e&&e.familyId,"&familyCount=").concat(e.familyNo)):this.$router.push("/member/edit?isEdit=".concat(t))},goDetail:function(t){this.$router.push("/member/detail?id=".concat(t.familyId,"&village=").concat(this.areaList[0].name).concat(this.areaList[1].value,"&name=").concat(t.adminMemberName,"&familyNo=").concat(t.familyNo))},searchMemberList:function(){var t=this,e={keyword:this.searchKey,pageNum:this.pageInfo.pageNum,pageSize:this.pageInfo.pageSize,villageId:this.form.villageGroupId};Object(c["k"])(e).then((function(e){t.tableData=e.data&&e.data.familyInfos||[],t.pageInfo.total=e.data.total}))},areaChange:function(t){console.log(t),this.areaList=t,this.form.villageGroupId=t[1].value,this.searchMemberList()},handlePageChange:function(t){this.pageInfo.pageNum=t,this.searchMemberList()},download:function(){Object(c["i"])({villageId:this.areaList[1].value}).then((function(t){var e=document.createElement("a"),a=window.URL.createObjectURL(t);e.href=a,e.download="成员信息.xls",e.click()})),window.open("https://apis.lihuanyu.com/stock/api/v1/member/download?villageId="+this.areaList[1].value)}}},l=u,s=(a("ec21"),a("9ca4"),a("2877")),d=Object(s["a"])(l,n,r,!1,null,"3c11f38e",null);e["default"]=d.exports}}]);