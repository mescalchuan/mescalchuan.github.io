(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dfb2e74"],{"04b4":function(t,e,a){"use strict";var i=a("f500"),n=a.n(i);n.a},2934:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return l}));var i=a("b775");function n(){return Object(i["a"])({url:"/api/v1/village/list",method:"post"})}function r(){return Object(i["a"])({url:"/api/v1/village/loadAll",method:"post"})}function o(){return Object(i["a"])({url:"/api/v1/position/query",method:"post"})}function l(t){return Object(i["a"])({url:"/api/v1/villageGroup/list",method:"post",data:t})}},5790:function(t,e,a){},"6cd7":function(t,e,a){"use strict";var i=a("5790"),n=a.n(i);n.a},f500:function(t,e,a){},f52b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-page"},[a("area-selector",{on:{areaChange:t.areaChange}}),a("div",{staticClass:"content"},[a("div",{staticClass:"option-box"},[a("div",{staticClass:"search-box"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"组织代码、组织名称、法人信息输入",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v(" 搜索 "),a("i",{staticClass:"el-icon-search el-icon--right"})])],1),t.$hasAuth(2)?a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(){return t.handleEdit()}}},[t._v("添加经济组织")]):t._e()],1),a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-class-name":"table-header-color",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),a("el-table-column",{attrs:{prop:"groupCode",label:"组织代码"}}),a("el-table-column",{attrs:{prop:"groupName",label:"组织名称"}}),a("el-table-column",{attrs:{prop:"legal",label:"法人代表"}}),a("el-table-column",{attrs:{prop:"establishTime",label:"成立日期"}}),a("el-table-column",{attrs:{prop:"address",label:"地址",width:"200"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$hasAuth(4)?a("el-button",{attrs:{icon:"el-icon-s-tools",type:"success",size:"small"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("变更")]):t._e(),t.$hasAuth(5)?a("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"small"},on:{click:function(a){return t.goDetail(e.row.id)}}},[t._v("详情")]):t._e()]}}])})],1),a("pagination",{attrs:{total:t.pageInfo.total,"current-page":t.pageInfo.pageNum},on:{"on-change":function(e){return t.handlePageChange(e)}}})],1)],1)},n=[],r=(a("99af"),a("7715")),o=a("1799"),l=a("2934"),s=a("cca8"),c={components:{AreaSelector:r["a"],Pagination:o["a"]},data:function(){return{searchKey:"",form:{},formLabelWidth:"100px",dialogFormVisible:!1,rules:{code:[{required:!0,message:"请输入组织代码",trigger:"blur"}],name:[{required:!0,message:"请输入组织名称",trigger:"blur"}],represent:[{required:!0,message:"请输入法人代表",trigger:"blur"}],createdDate:[{type:"date",message:"请选择成立日期",trigger:"change"}],desc:[{message:"请填写组织介绍",trigger:"blur"}]},groupOptions:[],areaList:[],isEdit:!1,pageInfo:{pageNum:1,pageSize:10,total:0,current:1},tableData:[]}},computed:{villageId:function(){return this.villageId}},created:function(){},methods:{showDialog:function(){this.isEdit=!1,this.resetForm(),this.dialogFormVisible=!this.dialogFormVisible},handleEdit:function(t){if(t){for(var e in this.form)this.form[e]=t[e];this.isEdit=!0,this.$router.push("/organ/edit?isEdit=".concat(this.isEdit,"&id=").concat(t&&t.id))}else this.$router.push("/organ/edit")},goDetail:function(t){this.$router.push({path:"/organ/detail",query:{id:t}})},areaChange:function(t){this.areaList=t,this.form.villageGroupId=t[1].value,this.handleSearch()},handleSearch:function(){var t=this;Object(s["a"])({keyword:this.searchKey,villageId:this.form.villageGroupId,pageNum:this.pageInfo.pageNum}).then((function(e){if(e&&0===e.status){var a=e.data;a&&(t.tableData=a.economicGroupInfos,t.pageInfo.total=e.data.total)}}))},handlePageChange:function(t){this.pageInfo.pageNum=t,this.handleSearch()},getGroupList:function(t){var e=this;Object(l["c"])({villageId:t}).then((function(t){e.groupOptions=t.data.villageGroupInfos||[]}))}}},u=c,d=(a("04b4"),a("6cd7"),a("2877")),h=Object(d["a"])(u,i,n,!1,null,"ca562caa",null);e["default"]=h.exports}}]);