(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39a8304b"],{"13b0":function(t,e,n){t.exports=n.p+"static/img/farmer_import_demo.f55503c3.png"},2934:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return r}));var a=n("b775");function i(){return Object(a["a"])({url:"/v1/village/list",method:"post"})}function o(){return Object(a["a"])({url:"/v1/village/loadAll",method:"post"})}function s(){return Object(a["a"])({url:"/v1/position/query",method:"post"})}function r(t){return Object(a["a"])({url:"/v1/villageGroup/list",method:"post",data:t})}},"83f3":function(t,e,n){"use strict";var a=n("f764"),i=n.n(a);i.a},f3f8:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-page"},[a("area-selector",{on:{areaChange:t.areaChange}}),a("div",{staticClass:"content"},[a("div",[a("input",{ref:"file",attrs:{type:"file"}})]),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.upload}},[t._v("上传"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),a("el-divider"),a("div",[a("h3",[t._v("导入数据表结构说明：")]),a("p",[t._v("1、批量导入农户信息的表结构必须如下图")]),a("p",[t._v("2、导入前请确保户主信息为该户的第一行")]),a("p",[t._v("3、保证农户的身份证是合法的格式，否则导入不成功")]),a("img",{staticStyle:{width:"100%"},attrs:{src:n("13b0"),alt:""}})])],1)],1)},i=[],o=(n("b0c0"),n("7715")),s=n("b775");function r(t){return Object(s["a"])({url:"/v1/member/import",method:"post",data:t,headers:{"Content-Type":"multipart/form-data"}})}var c={components:{AreaSelector:o["a"]},data:function(){return{form:{}}},methods:{areaChange:function(t){console.log(t),this.areaList=t,this.form.villageGroupId=t[1].value},upload:function(){var t=this;console.log(this.$refs),console.log(this.$refs.file.files),this.$refs.file.files.length?this.$confirm("当前即将导入".concat(this.areaList[1].name,"农户信息"),"系统提示",{confirmButtonText:"确认上传",cancelButtonText:"取消"}).then((function(e){var n=new FormData;n.append("file",t.$refs.file.files[0]),n.append("villageId",t.areaList[1].value);var a=t.$message({message:"正在上传...",duration:0});r(n).then((function(e){a.close(),t.$message({message:"操作成功",type:"success"})})).catch((function(e){a.close(),console.log(e),50004===e.status&&(sessionStorage.setItem("ei",e.msg),t.$router.push("/import-data/list"))}))})).catch((function(){})):this.$message({type:"warning",message:"请选择文件"})}}},l=c,u=(n("83f3"),n("2877")),f=Object(u["a"])(l,a,i,!1,null,null,null);e["default"]=f.exports},f764:function(t,e,n){}}]);