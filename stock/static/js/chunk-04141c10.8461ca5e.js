(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04141c10"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1925:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return l})),a.d(e,"b",(function(){return s}));var i=a("b775");function n(t){return Object(i["a"])({url:"/v1/search",method:"post",data:t})}function l(t){return Object(i["a"])({url:"/v1/economicGroupDetail/search",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/v1/memberDetail/search",method:"post",data:t})}},"20a9":function(t,e,a){"use strict";var i=a("8d95"),n=a.n(i);n.a},2934:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return l})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return r}));var i=a("b775");function n(){return Object(i["a"])({url:"/v1/village/list",method:"post"})}function l(){return Object(i["a"])({url:"/v1/village/loadAll",method:"post"})}function s(){return Object(i["a"])({url:"/v1/position/query",method:"post"})}function r(t){return Object(i["a"])({url:"/v1/villageGroup/list",method:"post",data:t})}},"2b96":function(t,e,a){"use strict";var i=a("9ef6"),n=a.n(i);n.a},"32c8":function(t,e,a){},7715:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("行政区域设置")]),a("div",{staticStyle:{float:"right"},on:{click:function(e){t.isFold=!t.isFold}}},[a("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"}},[t._v(t._s(t.isFold?"折叠":"展开"))]),a("i",{class:[t.isFold?"el-icon-caret-top":"el-icon-caret-bottom"],staticStyle:{color:"#66b1ff",cursor:"pointer"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isFold,expression:"isFold"}],staticClass:"area-box"},[a("p",{staticClass:"tag-title top"},[t._v("乡镇")]),t._l(t.areaList,(function(e){return a("el-tag",{key:"town"+e.townshipId,class:["tag-cursor",{active:t.activeTownIndex===e.townshipId}],attrs:{size:"mini","disable-transitions":!0,type:"info"},on:{click:function(a){return t.getTowns(e)}}},[t._v(t._s(e.townshipName)+" ")])})),t.hideVillage?t._e():a("p",{staticClass:"tag-title"},[t._v("村")]),t.hideVillage?t._e():a("span",t._l(t.currentTownList,(function(e){return a("el-tag",{key:"village"+e.villageId,class:["tag-cursor",{active:t.activeVillageIndex===e.villageId}],attrs:{size:"mini","disable-transitions":!0,type:"info"},on:{click:function(a){return t.selectTown(e)}}},[t._v(t._s(e.villageName)+" ")])})),1)],2)])},n=[],l=(a("d81d"),a("b0c0"),a("2934")),s={data:function(){return{isFold:!1,areaList:[],currentTownList:[],activeTownIndex:0,activeTownName:"",activeVillageIndex:0,activeVillageName:""}},props:{initFold:{type:Boolean,default:!0},hideVillage:{type:Boolean,default:!1}},created:function(){this.isFold=this.initFold;var t=localStorage.getItem("tv");t&&(t=JSON.parse(t),this.activeTownIndex=t[0].value,this.activeTownName=t[0].name,this.activeVillageIndex=t[1].value,this.activeVillageName=t[1].name),this.getVillageList(t)},methods:{goBack:function(){this.$router.go(-1)},getTowns:function(t){this.currentTownList=t&&t.villageInfos||[],this.init(t),this.areaChange()},selectTown:function(t){this.activeVillageIndex=t.villageId,this.activeVillageName=t.villageName,this.areaChange(),console.log(this.activeVillageIndex)},getVillageList:function(t){var e=this;Object(l["b"])().then((function(a){e.areaList=a.data.townshipInfos||[];var i=0;t&&e.areaList.map((function(t,a){t.townshipId===e.activeTownIndex&&(i=a)})),e.init(e.areaList[i],t),e.areaChange()}))},areaChange:function(t){var e=[{name:this.activeTownName,value:this.activeTownIndex},{name:this.activeVillageName,value:this.activeVillageIndex}];localStorage.setItem("tv",JSON.stringify(e)),this.$emit("areaChange",e)},init:function(t,e){var a=this;this.activeTownIndex=t.townshipId,this.currentTownList=t&&t.villageInfos||[];var i=0;e&&this.currentTownList.map((function(t,e){t.villageId===a.activeVillageIndex&&(i=e)})),this.activeVillageIndex=this.currentTownList[i].villageId,this.activeTownName=t.townshipName,this.activeVillageName=this.currentTownList[i].villageName}}},r=s,o=(a("20a9"),a("2b96"),a("2877")),c=Object(o["a"])(r,i,n,!1,null,"4813f05a",null);e["a"]=c.exports},8203:function(t,e,a){},"841c":function(t,e,a){"use strict";var i=a("d784"),n=a("825a"),l=a("1d80"),s=a("129f"),r=a("14c3");i("search",1,(function(t,e,a){return[function(e){var a=l(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,a):new RegExp(e)[t](String(a))},function(t){var i=a(e,t,this);if(i.done)return i.value;var l=n(t),o=String(this),c=l.lastIndex;s(c,0)||(l.lastIndex=0);var u=r(l,o);return s(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},"856a":function(t,e,a){"use strict";var i=a("32c8"),n=a.n(i);n.a},"88c4":function(t,e,a){"use strict";var i=a("8203"),n=a.n(i);n.a},"8d95":function(t,e,a){},"9ef6":function(t,e,a){},efe3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-page"},[a("area-selector",{on:{areaChange:t.areaChange}}),a("div",{staticClass:"search-content"},[a("div",{staticClass:"option-box"},[a("div",{staticClass:"search-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("全文检索"),a("i",{staticClass:"el-icon-search el-icon--right"})]),a("el-input",{staticClass:"search-input",attrs:{placeholder:"输入组织或农民相关信息...",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1)]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("经济组织")])]),a("el-table",{staticStyle:{width:"100%",padding:"10px"},attrs:{"header-cell-class-name":"table-header-color",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"编号"}}),a("el-table-column",{attrs:{prop:"groupCode",label:"组织代码"}}),a("el-table-column",{attrs:{prop:"groupName",label:"组织名称"}}),a("el-table-column",{attrs:{prop:"legal",label:"法人代表\t"}}),a("el-table-column",{attrs:{prop:"establishTime",label:"成立日期"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"small"},on:{click:function(a){return t.goDetail("economic",e.row.id)}}},[t._v("详情")])]}}])})],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("农民")])]),a("el-table",{staticStyle:{width:"100%",padding:"10px"},attrs:{"header-cell-class-name":"table-header-color",data:t.memberInfos,border:""}},[a("el-table-column",{attrs:{prop:"familyNo",label:"户号"}}),a("el-table-column",{attrs:{prop:"memberName",label:"姓名"}}),a("el-table-column",{attrs:{prop:"sexName",label:"性别"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"birthDate",label:"出生日期\t"}}),a("el-table-column",{attrs:{prop:"currentAddress",label:"家庭住址"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-warning",type:"warning",size:"small"},on:{click:function(a){return t.goDetail("member",e.row.memberId)}}},[t._v("详情")])]}}])})],1)],1)],1)],1)},n=[],l=(a("ac1f"),a("841c"),a("7715")),s=a("1925"),r={components:{AreaSelector:l["a"]},data:function(){return{tableData:[],memberInfos:[],searchKey:"",basicInfo:{index:1,code:"323232",name:"张家口",represent:"酷酷酷"},areaList:[],init:!1}},created:function(){},methods:{areaChange:function(t){this.areaList=t,this.init?this.search():this.init=!0},search:function(){var t=this;Object(s["c"])({keyword:this.searchKey,villageId:this.areaList[1].value}).then((function(e){t.tableData=e.data.economicGroupInfos,t.memberInfos=e.data.memberInfos}))},goDetail:function(t,e){var a={};"economic"===t?a.economicId=e:a.memberId=e,this.$router.push({path:"/search-system/detail",query:a})}}},o=r,c=(a("856a"),a("88c4"),a("2877")),u=Object(c["a"])(o,i,n,!1,null,"911cabf0",null);e["default"]=u.exports}}]);